<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eyecryl™ Phakic: La Arquitectura del Equilibrio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
/* 1. CONFIGURACIÓN BASE */
:root {
  --medical-deep: #0A1F1F; /* Petróleo Profundo */
  --medical-teal: #1E4D4E; /* Teal Quirúrgico */
  --medical-accent: #00A3A3; /* Teal Brillante */
  --bg-white: #F4F7F7;
  --text-main: #1A2E2E;
  --text-muted: #5F7A7A;
  --font-titles: 'Outfit', sans-serif;
  --font-body: 'Inter', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  background-color: #d1d5db;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 60px;
  padding: 60px 0;
  font-family: var(--font-body);
}

/* 2. CONTENEDOR DE SLIDE */
.slide-container {
  width: 1280px;
  height: 720px;
  background-color: var(--bg-white);
  box-shadow: 0 40px 100px rgba(0, 0, 0, 0.15);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(0,0,0,0.05);
}

.slide-container.dark {
  background: linear-gradient(135deg, #091F1F 0%, #163636 100%);
  color: #fff;
}

/* 3. TIPOGRAFÍA */
h1, h2, h3 {
  font-family: var(--font-titles);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.slide-title {
  font-size: 42px;
  font-weight: 900;
  padding: 60px 80px 20px 80px;
  color: var(--medical-deep);
  display: flex;
  align-items: center;
  gap: 20px;
}

.dark .slide-title { color: #fff; }

.content-area {
  flex-grow: 1;
  padding: 0 80px 80px 80px;
  display: flex;
  align-items: center;
}

/* 4. ELEMENTOS VISUALES */
.img-frame {
  border: 1px solid #D1DBDB;
  padding: 12px;
  background: #fff;
  box-shadow: 0 15px 35px rgba(0,0,0,0.08);
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.dark .img-frame { background: rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.1); }

.img-placeholder {
  color: var(--text-muted);
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  text-align: center;
}

/* 5. GESTOR DE IMÁGENES (PERSISTENCIA) */
#image-manager-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 999;
  background: var(--medical-deep);
  color: white;
  padding: 12px 20px;
  border-radius: 30px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
  display: flex;
  align-items: center;
  gap: 10px;
  border: none;
}

#image-manager-panel {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 500px;
  background: white;
  z-index: 1000;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 50px 100px rgba(0,0,0,0.5);
  display: none;
}

.file-input-group {
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.file-input-group label { font-size: 12px; font-weight: bold; color: var(--medical-teal); }

/* 6. LAYOUTS */
.two-column { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; width: 100%; }
.explanation-text { font-size: 18px; line-height: 1.7; color: var(--text-muted); }
.dark .explanation-text { color: rgba(255,255,255,0.7); }

.formula-box {
  background: #EBF1F1;
  padding: 30px;
  border-left: 5px solid var(--medical-accent);
  margin: 30px 0;
  font-family: monospace;
}

.accent-line { height: 4px; width: 80px; background: var(--medical-accent); margin-bottom: 25px; }

    </style>
</head>
<body>

<button id="image-manager-toggle"><i data-lucide="image"></i> Gestionar Imágenes</button>

<div id="image-manager-panel">
    <h3 style="margin-bottom: 20px; color: var(--medical-deep);">Cargar Imágenes Reales</h3>
    <p style="font-size: 12px; margin-bottom: 20px; color: var(--text-muted);">Selecciona las fotos de tu ordenador. Se guardarán en este navegador automáticamente.</p>
    <div id="inputs-container"></div>
    <button onclick="document.getElementById('image-manager-panel').style.display='none'" style="width:100%; padding:10px; background:var(--medical-accent); color:white; border:none; border-radius:4px; margin-top:20px; cursor:pointer;">Cerrar y Guardar</button>
</div>

<!-- SLIDE 1: PORTADA -->
<div class="slide-container dark">
    <div class="content-area">
        <div class="two-column" style="align-items: center;">
            <div>
                <p style="text-transform: uppercase; letter-spacing: 0.6em; font-size: 12px; color: var(--medical-accent); margin-bottom: 20px; font-weight: bold;">Biotech Healthcare Hub</p>
                <h1 style="font-size: 85px; line-height: 0.9; margin-bottom: 30px;">EYECRYL™<br>PHAKIC</h1>
                <div class="accent-line"></div>
                <p style="font-size: 28px; font-weight: 300; opacity: 0.9; letter-spacing: 0.1em;">La arquitectura del equilibrio</p>
                <div style="margin-top: 60px; padding: 20px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); width: fit-content;">
                    <p style="font-size: 11px; text-transform: uppercase; letter-spacing: 0.3em; color: var(--medical-accent);">Ingeniería Criogénica Certificada</p>
                </div>
            </div>
            <div style="height: 550px; position: relative;">
                <div id="lens-360-hero"></div>
                <div style="position: absolute; bottom: 20px; right: 20px; font-size: 10px; opacity: 0.4; text-transform: uppercase;">Modelo 3D Interactivo</div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 2: FABRICACIÓN -->
<div class="slide-container">
    <h2 class="slide-title"><i data-lucide="factory"></i> Fabricación en Irlanda</h2>
    <div class="content-area">
        <div class="two-column">
            <div class="explanation-text">
                <p style="margin-bottom: 30px;">Nuestra sede en <strong>Roscommon, Irlanda</strong>, no es solo una planta de producción; es un centro de I+D donde la física se encuentra con la medicina.</p>
                <div style="background: var(--bg-white); border: 1px solid #e2e8f0; padding: 25px; margin-bottom: 30px;">
                    <h4 style="font-size: 14px; color: var(--medical-teal); margin-bottom: 15px;">Estándares de Excelencia:</h4>
                    <ul style="list-style: none; font-size: 16px;">
                        <li style="margin-bottom: 10px;">• Corte criogénico a <strong>-80°C</strong> para rigidez micrométrica.</li>
                        <li style="margin-bottom: 10px;">• Control de calidad ISO 13485 en cada etapa.</li>
                        <li style="margin-bottom: 10px;">• Trazabilidad total desde el monómero inicial.</li>
                    </ul>
                </div>
                <p>Esta infraestructura nos permite garantizar un stock del 100% en tallas estándar con entrega en 24 horas.</p>
            </div>
            <div class="img-frame">
                <img data-persist="image_a52bdb.png" src="" alt="" class="persisted-img">
                <div class="img-placeholder">Sede de Roscommon, Irlanda</div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 3: DINÁMICA DE FLUIDOS -->
<div class="slide-container">
    <h2 class="slide-title"><i data-lucide="waves"></i> Dinámica de Fluidos</h2>
    <div class="content-area">
        <div class="two-column" style="align-items: center;">
            <div class="img-frame">
                <img data-persist="image_a4cdfd.jpg" src="" alt="" class="persisted-img">
                <div class="img-placeholder">Gráfico Dinámica de Vault</div>
            </div>
            <div class="explanation-text">
                <p>La seguridad no es estática, es dinámica. Nuestra tecnología resuelve el problema del desplazamiento masivo de humor acuoso durante la actividad pupilar.</p>
                <div class="formula-box">
                    Q = (π · ΔP · r⁴) / (8 · η · L)
                </div>
                <p>Gracias al puerto central de <strong>360µm</strong> (radio elevado a la cuarta potencia en la Ley de Poiseuille), el flujo laminar es constante. Esto reduce la fluctuación del vault a solo <strong>110 micras</strong>, frente a las 200 de otros diseños, protegiendo el endotelio.</p>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 4: ZERO TECHNOLOGY -->
<div class="slide-container dark">
    <h2 class="slide-title"><i data-lucide="zap"></i> Zero Technology™</h2>
    <div class="content-area">
        <div class="two-column">
            <div class="explanation-text">
                <p style="margin-bottom: 30px;">"El Lienzo Perfecto". La ausencia de irregularidades superficiales es nuestra prioridad para evitar la fricción mecánica.</p>
                <div style="background: rgba(255,255,255,0.05); padding: 25px; border-radius: 8px;">
                    <p style="color: var(--medical-accent); font-weight: bold; margin-bottom: 10px;">Análisis AFM (Microscopía de Fuerza Atómica):</p>
                    <p>Nuestra rugosidad superficial (RMS) es <strong>inferior a 2 nm</strong>. Esto es vital para:</p>
                    <ul style="margin-top: 15px; font-size: 15px;">
                        <li>1. Evitar la dispersión de luz (fenómenos fóticos).</li>
                        <li>2. Prevenir la inflamación por contacto uveal.</li>
                        <li>3. Garantizar una óptica "invisible" para el iris.</li>
                    </ul>
                </div>
            </div>
            <div style="display: flex; flex-direction: column; gap: 20px;">
                <div class="img-frame"><img data-persist="image_a4cdc4.jpg" src="" class="persisted-img"><div class="img-placeholder">Comparativa AFM</div></div>
                <div class="img-frame"><img data-persist="image_a4ce1a.jpg" src="" class="persisted-img"><div class="img-placeholder">OCT de Alta Definición</div></div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 5: ARQUITECTURA -->
<div class="slide-container">
    <h2 class="slide-title"><i data-lucide="shrub"></i> Arquitectura de Puente</h2>
    <div class="content-area">
        <div class="two-column" style="grid-template-columns: 1.3fr 0.7fr;">
            <div class="explanation-text">
                <p style="margin-bottom: 30px;">Nos inspiramos en la <strong>ingeniería civil</strong>. Un puente de arco no colapsa porque distribuye las fuerzas hacia sus pilares (hápticos). </p>
                <div class="img-frame" style="height: 350px;">
                    <img data-persist="image_a4d903.jpg" src="" class="persisted-img">
                    <div class="img-placeholder">Analogía de Puente Arco</div>
                </div>
                <p style="margin-top: 25px; font-size: 16px;">Esta estructura permite que la lente mantenga su curvatura central incluso bajo la presión del sulcus, evitando la depresión central que compromete el vault en lentes de la competencia.</p>
            </div>
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <div class="img-frame"><img data-persist="image_a4d276.jpg" src="" class="persisted-img"></div>
                <div class="img-frame"><img data-persist="image_a4d27b.jpg" src="" class="persisted-img"></div>
                <p style="font-size: 12px; color: var(--text-muted); text-align: center;">Análisis de Vectores y Memoria de Material</p>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 6: CALCULADOR -->
<div class="slide-container dark">
    <h2 class="slide-title"><i data-lucide="cpu"></i> Calculador 3.0 & IA</h2>
    <div class="content-area">
        <div class="two-column">
            <div style="display: flex; flex-direction: column; gap: 20px;">
                <div class="img-frame"><img data-persist="image_a4d1db.jpg" src="" class="persisted-img"></div>
                <div class="explanation-text" style="font-size: 16px;">
                    <p>No es solo un calculador; es un <strong>ecosistema digital</strong> basado en un algoritmo multicéntrico europeo con validación clínica masiva (Barraquer).</p>
                </div>
            </div>
            <div class="explanation-text">
                <h4 style="color: var(--medical-accent); margin-bottom: 20px;">Precisión Predictiva</h4>
                <p>Nuestra IA permite una predicción del vault con una precisión de <strong>±300 micras</strong> en el 96% de los casos.</p>
                <div class="img-frame" style="margin-top: 30px; height: 300px;">
                    <img data-persist="image_a4d21e.png" src="" class="persisted-img">
                    <div class="img-placeholder">Gráfico de Predicción Barraquer</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 7: ERGONOMÍA -->
<div class="slide-container">
    <h2 class="slide-title"><i data-lucide="user-check"></i> Ergonomía y Mano Dominante</h2>
    <div class="content-area">
        <div class="two-column">
            <div class="img-frame">
                <img data-persist="image_a4d99f.jpg" src="" class="persisted-img">
                <div class="img-placeholder">Infografía Hipótesis Mecánica</div>
            </div>
            <div class="explanation-text">
                <p style="margin-bottom: 25px;">Para el cirujano tórico, la alineación es el factor crítico. Nuestra hipótesis demuestra que la <strong>mano dominante</strong> influye en el éxito de la alineación mecánica inicial.</p>
                <div style="background: var(--medical-teal); color: white; padding: 30px; text-align: center;">
                    <p style="font-size: 12px; text-transform: uppercase; margin-bottom: 10px;">Significancia Estadística</p>
                    <p style="font-size: 48px; font-weight: 900; font-family: var(--font-titles);">p = 0.0016</p>
                </div>
                <div class="img-frame" style="margin-top: 25px; height: 180px;">
                    <img data-persist="image_a4d999.png" src="" class="persisted-img">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SLIDE 8: PRESBICIA -->
<div class="slide-container dark">
    <h2 class="slide-title"><i data-lucide="microscope"></i> Proyecto Presbicia</h2>
    <div class="content-area">
        <div style="display: flex; flex-direction: column; gap: 40px; width: 100%;">
            <p class="explanation-text" style="text-align: center;">Redefiniendo la independencia visual con tecnología <strong>EDOF Phakic</strong> de próxima generación. Actualmente en proceso de registro.</p>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px;">
                <div class="img-frame"><img data-persist="image_a4d15d.jpg" src="" class="persisted-img"><div class="img-placeholder">EDOF Optic</div></div>
                <div class="img-frame"><img data-persist="image_a4d17e.jpg" src="" class="persisted-img"><div class="img-placeholder">MTF Analysis</div></div>
                <div class="img-frame"><img data-persist="image_a4d183.jpg" alt="" class="persisted-img"><div class="img-placeholder">USAF Validation</div></div>
            </div>
            <div style="text-align: center; opacity: 0.5; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5em;">Pipeline 2026 - Biotech Global Research</div>
        </div>
    </div>
</div>

<script>
// --- 1. LÓGICA DE PERSISTENCIA DE IMÁGENES ---
const imageFiles = [
    { id: 'image_a52bdb.png', label: '1. Sede Irlanda' },
    { id: 'image_a4cdfd.jpg', label: '2. Gráfico Dinámica' },
    { id: 'image_a4cdc4.jpg', label: '3. Análisis AFM' },
    { id: 'image_a4ce1a.jpg', label: '4. OCT HD' },
    { id: 'image_a4d903.jpg', label: '5. Analogía Puente' },
    { id: 'image_a4d276.jpg', label: '6. OCT Memoria' },
    { id: 'image_a4d27b.jpg', label: '7. Vectores Fuerza' },
    { id: 'image_a4d1db.jpg', label: '8. Algoritmo Calculador' },
    { id: 'image_a4d21e.png', label: '9. Gráfico Predicción' },
    { id: 'image_a4d99f.jpg', label: '10. Infografía Ergonomía' },
    { id: 'image_a4d999.png', label: '11. Test Fisher' },
    { id: 'image_a4d15d.jpg', label: '12. Lente EDOF' },
    { id: 'image_a4d17e.jpg', label: '13. Curva MTF' },
    { id: 'image_a4d183.jpg', label: '14. Test USAF' },
    { id: 'image_a4d93c.jpg', label: '15. Alojamiento OCT' },
    { id: 'image_a4d91e.jpg', label: '16. Superposición' },
    { id: 'Imagen10.jpg', label: '17. Interface Calculador' }
];

function initImageManager() {
    const container = document.getElementById('inputs-container');
    const toggle = document.getElementById('image-manager-toggle');
    const panel = document.getElementById('image-manager-panel');

    toggle.onclick = () => panel.style.display = panel.style.display === 'block' ? 'none' : 'block';

    imageFiles.forEach(file => {
        const group = document.createElement('div');
        group.className = 'file-input-group';
        group.innerHTML = `
            <label>${file.label} (${file.id})</label>
            <input type="file" id="input-${file.id}" accept="image/*">
        `;
        container.appendChild(group);

        const input = document.getElementById(`input-${file.id}`);
        input.onchange = (e) => {
            const reader = new FileReader();
            reader.onload = () => {
                const base64 = reader.result;
                localStorage.setItem(`eyecryl_img_${file.id}`, base64);
                updateAllImages();
            };
            reader.readAsDataURL(e.target.files[0]);
        };
    });

    updateAllImages();
}

function updateAllImages() {
    document.querySelectorAll('.persisted-img').forEach(img => {
        const id = img.getAttribute('data-persist');
        const saved = localStorage.getItem(`eyecryl_img_${id}`);
        if (saved) {
            img.src = saved;
            img.style.display = 'block';
            if (img.nextElementSibling && img.nextElementSibling.classList.contains('img-placeholder')) {
                img.nextElementSibling.style.display = 'none';
            }
        } else {
            img.style.display = 'none';
        }
    });
}

// --- 2. VISOR 3D ---
function initLens3D() {
    const container = document.getElementById('lens-360-hero');
    if (!container) return;

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(40, container.clientWidth / container.clientHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(container.clientWidth, container.clientHeight);
    container.appendChild(renderer.domElement);

    scene.add(new THREE.AmbientLight(0xffffff, 1.2));
    const pointLight = new THREE.PointLight(0x00A3A3, 1);
    pointLight.position.set(5, 5, 5);
    scene.add(pointLight);

    const group = new THREE.Group();
    // Reemplaza con la imagen real si la subes, si no, usa el plano procedimental
    const textureLoader = new THREE.TextureLoader();
    const savedTexture = localStorage.getItem('eyecryl_img_ChatGPT Image 25 ene 2026, 20_31_28 - copia.jpg');
    
    let material;
    if (savedTexture) {
        material = new THREE.MeshBasicMaterial({ map: textureLoader.load(savedTexture), transparent: true, side: THREE.DoubleSide });
    } else {
        material = new THREE.MeshPhongMaterial({ color: 0x00A3A3, transparent: true, opacity: 0.3, shininess: 100 });
    }

    const geometry = new THREE.PlaneGeometry(6, 4);
    const lensMesh = new THREE.Mesh(geometry, material);
    group.add(lensMesh);
    scene.add(group);

    camera.position.z = 7;

    let isDragging = false;
    let prevX = 0;
    container.onmousedown = () => isDragging = true;
    window.onmouseup = () => isDragging = false;
    container.onmousemove = (e) => {
        if (isDragging) group.rotation.y += (e.clientX - prevX) * 0.01;
        prevX = e.clientX;
    };

    function animate() {
        requestAnimationFrame(animate);
        if (!isDragging) group.rotation.y += 0.005;
        renderer.render(scene, camera);
    }
    animate();
}

window.onload = () => {
    initImageManager();
    initLens3D();
    lucide.createIcons();
};
</script>

</body>
</html>
